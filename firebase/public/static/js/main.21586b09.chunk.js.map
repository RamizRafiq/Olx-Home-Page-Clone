{"version":3,"sources":["config/firebase.js","containers/Header/index.js","containers/footer/index.js","containers/Home/index.js","store/action/index.js","containers/Chat/index.jsx","config/router.js","App.js","reportWebVitals.js","store/reducer/index.js","store/index.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","Header","className","React","Component","Footer","Home","console","log","this","props","onClick","facebook_login","history","connect","state","users","dispatch","provider","auth","FacebookAuthProvider","signInWithPopup","then","result","user","data","name","displayName","email","profile","photoURL","uid","database","ref","child","set","type","payload","alert","push","catch","error","errorMessage","message","Chat","chat","setState","chat_user","current_user","merge_uid","uid_merge","get_messages","sendMsg","chats","on","messages","val","uid1","uid2","get_users","src","alt","style","display","map","v","i","width","Object","keys","length","value","onChange","e","target","placeholder","AppRouter","exact","path","component","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","INITIALIZE_STATE","mystate","action","store","createStore","reducer","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.21586b09.chunk.js","sourcesContent":["import  firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\nimport 'firebase/database'\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyCikpfNbY8llB3XBzXUyo3bKnwbKecqR4A\",\r\n  authDomain: \"chatsite-d066f.firebaseapp.com\",\r\n  projectId: \"chatsite-d066f\",\r\n  storageBucket: \"chatsite-d066f.appspot.com\",\r\n  messagingSenderId: \"224167810793\",\r\n  appId: \"1:224167810793:web:26a51da9a7522323058278\",\r\n  measurementId: \"G-R0V304CWYK\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase ;\r\n\r\n","import React from 'react'\r\nimport './style.css'\r\n\r\nclass Header extends React.Component{\r\nrender(){\r\nreturn(\r\n       <div className='container-fluid navbar'>\r\n       <h1>Chat App</h1>\r\n</div>\r\n\r\n\r\n\r\n    )}\r\n\r\n\r\n\r\n}\r\nexport default Header;","\r\nimport React from 'react'\r\nimport './style.css'\r\n\r\nclass Footer extends React.Component{\r\nrender(){\r\nreturn(\r\n<div className='container-fluid footer'>\r\n<h2>About</h2>\r\n<p>Company: My Chat</p>\r\n<p>Address: North Karachi, Karachi Pakistan</p>\r\n<p>Web URL:https://www.chatapp.web.app</p>\r\n<p>Mail Address: ramizrafiq465@gmail.com</p>\r\n<h4> Copyright &copy; 2020 Muhammad Ramiz Muhammad Rafiq</h4>\r\n</div>\r\n    )}\r\n\r\n\r\n\r\n}\r\nexport default Footer;","import React from 'react';\r\nimport './style.css';\r\nimport { connect } from 'react-redux'\r\nimport { facebook_login} from '../../store/action'\r\nimport Header from '../Header'\r\nimport Footer from '../footer'\r\n\r\nclass Home extends React.Component {\r\n    render(){\r\n        console.log(this.props)\r\n  return (\r\n    <div>\r\n<Header/>\r\n<div className='container-fluid login'>\r\n\r\n     <button className='fb-button' onClick={()=>this.props.facebook_login(this.props.history)}>Facebook Login</button>\r\n     {/* <button onClick={()=>this.props.set_data()}>Set Data</button> */}\r\n    \r\n    \r\n\r\n    </div>\r\n    <Footer/>\r\n    </div>\r\n\r\n  );\r\n    }\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    users:state.users\r\n})\r\n\r\nconst mapDispatchToProp=(dispatch)=>({\r\n\r\nfacebook_login:(history)=>dispatch(facebook_login(history))\r\n\r\n})\r\nexport default connect(mapStateToProps,mapDispatchToProp) (Home);\r\n","import firebase from '../../config/firebase'\r\n\r\nconst get_users=()=>{\r\n    \r\nreturn(dispatch)=>{\r\n    let users=[];\r\nfirebase.database().ref('/').child(\"users\").on(\"child_added\",(data)=>{\r\n    // console.log(data.val())\r\n    users.push(data.val())\r\n    \r\n    dispatch({type:\"SETFIREBASEUSERS\",payload: users})\r\n})\r\n\r\n\r\n}\r\n\r\n}\r\n\r\nconst facebook_login = (history) => {\r\nreturn (dispatch)=>{\r\n    \r\n    var provider = new firebase.auth.FacebookAuthProvider();\r\n\r\n    firebase.auth().signInWithPopup(provider)\r\n       .then(function(result) {\r\n           var user = result.user;\r\n           console.log(user)\r\n\r\n           let data={\r\n               name:user.displayName,\r\n               email:user.email,\r\n               profile:user.photoURL,\r\n               uid:user.uid\r\n           }\r\n\r\n           firebase.database().ref('/').child(`users/${user.uid}`).set(data)\r\n           .then(()=>{\r\n            dispatch({type:\"SET USER\", payload:data})\r\n               alert(\"User Login\")\r\n               history.push('/chat')\r\n           })\r\n\r\n           .catch((error)=>{\r\nconsole.log(error)\r\n           })\r\n\r\n        //    dispatch({type:\"SETDATA\",payload:{data}})\r\n           \r\n         })\r\n         .catch(function(error) {\r\n           var errorMessage = error.message;\r\n           console.log(errorMessage)\r\n             })\r\n}\r\n    }\r\n\r\nexport {\r\n    get_users,\r\n    facebook_login\r\n}\r\n\r\n","import React from \"react\";\r\nimport './style.css';\r\nimport { connect } from 'react-redux'\r\nimport { get_users } from \"../../store/action\";\r\nimport firebase from '../../config/firebase'\r\n\r\nclass Chat extends React.Component{\r\nconstructor(){\r\n    super()\r\n    this.state={\r\n        chat_user:{},\r\n        chats:[],\r\n        message:\"\"\r\n    }\r\n}\r\n\r\nchat=(user)=>{\r\n    this.setState({\r\n        chat_user:user\r\n    })\r\n    let current_user=this.props.current_user\r\n\r\nlet merge_uid=this.uid_merge(current_user.uid,user.uid)\r\n\r\nconsole.log(\"chat\",merge_uid)\r\nthis.get_messages(merge_uid)\r\n}\r\n\r\nsendMsg=()=>{\r\nlet user=this.props.current_user\r\nlet chat_user=this.state.chat_user\r\nlet merge_uid=this.uid_merge(user.uid,chat_user.uid)\r\n\r\nfirebase.database().ref('/').child(`chats/${merge_uid}`).push({\r\n    message:this.state.message,\r\n    user:user.name,\r\n    uid:user.uid\r\n// this.state.chats.push({\r\n    // message:this.state.message})\r\n})\r\nthis.setState({\r\nchats:this.state.chats,\r\nmessage:''\r\n\r\n})\r\n\r\n}\r\n\r\nget_messages=(uid)=>{\r\n    firebase.database().ref('/').child(`chats/${uid}`).on(\"child_added\",(messages)=>{\r\n        this.state.chats.push(messages.val())\r\n    })\r\nthis.setState({\r\nchats:this.state.chats\r\n})\r\n\r\n}\r\n\r\ncomponentDidMount(){\r\n    this.props.get_users()\r\n}\r\n\r\nuid_merge=(uid1,uid2)=>{\r\n    if(uid1< uid2){\r\n        return uid1+uid2\r\n    }\r\n    else{\r\n        return uid2+uid1\r\n    }\r\n}\r\n\r\nrender(){\r\nlet user =this.props.current_user\r\n// console.log()\r\nreturn(\r\n<div className=\"container-fluid\">\r\n<h1>Chat</h1>\r\n<img  src={user.profile} alt=\"\"/>\r\n<h2>Name: {user.name}</h2>\r\n\r\n<div style={{display:'flex'}}>\r\n<div className=\"chat_section\">\r\n<h3>Chat Users:</h3>\r\n<ul className=\"chat_users\">\r\n{\r\n    this.props.users.map((v,i)=>{\r\n        return v.uid !== user.uid && <li key={i}> <img src={v.profile} alt=\"\" width=\"30\"/> <button onClick={()=>this.chat(v)}>Chat</button>\r\n        <h6>{v.name}</h6> </li>\r\n    })\r\n}\r\n\r\n</ul>\r\n\r\n\r\n</div>\r\n\r\n<div className=\"chat\">\r\n    \r\n    {Object.keys(this.state.chat_user).length ?\r\n    <div className=\"main\">\r\n        <h3><img src={this.state.chat_user.profile} alt=\"\"/>{this.state.chat_user.name}</h3>\r\n        \r\n       <ul> \r\n        {this.state.chats.map((v,i) => {\r\nreturn  user.name === v.user ? <li key={i} className=\"my-message\"> \r\n{v.message}\r\n</li> \r\n:\r\n<li key={i} className=\"user-message\"> {v.message} </li>\r\n\r\n\r\n\r\n        })\r\n                      }\r\n                </ul>\r\n\r\n         <div className='input'>\r\n    <input value={this.state.message} onChange={(e)=>this.setState({message: e.target.value})} type=\"text\" placeholder=\"Enter your message\"/>\r\n    <button onClick={()=>this.sendMsg()}>Send</button>\r\n    </div> \r\n\r\n\r\n    </div>\r\n    :\r\n    <h4>No User</h4>\r\n\r\n    }\r\n</div>\r\n</div> \r\n\r\n</div>\r\n)\r\n}\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    current_user:state.current_user,\r\n    users:state.users\r\n    \r\n})\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    get_users: () => dispatch(get_users())\r\n})\r\n\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps) (Chat);\r\n","import React from 'react'\r\nimport {\r\n    BrowserRouter as Router,\r\n    Route,\r\n    \r\n  } from \"react-router-dom\";\r\nimport Home from '../containers/Home'\r\nimport Chat from '../containers/Chat'\r\n\r\n  \r\n\r\n  class AppRouter extends  React.Component{\r\nrender(){\r\nreturn(\r\n<Router>\r\n<Route exact path=\"/\" component={Home}></Route>\r\n<Route exact path=\"/chat\" component={Chat}></Route>\r\n</Router>\r\n)}\r\n\r\n\r\n\r\n  }\r\n\r\n  export default AppRouter;","import React from 'react';\nimport './App.css';\nimport AppRouter from './config/router'\n// import {connect}  from 'react-redux'\n\n\nclass App extends React.Component {\n    render(){\n  return (\n    <div >\n     <AppRouter/>\n    </div>\n  );\n    }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// import { act } from \"@testing-library/react\";\r\n\r\nconst INITIALIZE_STATE={\r\nusers:[],\r\ncurrent_user:{}\r\n}\r\n\r\nconst mystate =(state=INITIALIZE_STATE,action)=>{\r\n    // console.log(\"Action\",action)\r\n    switch(action.type){\r\n    case \"SET USER\":\r\n        return({\r\n...state,\r\ncurrent_user:action.payload\r\n        })\r\n\r\n        case \"SETFIREBASEUSERS\":\r\n            return({\r\n                ...state,\r\n                users:action.payload\r\n            })\r\n        default :\r\n        break;\r\n    }\r\n\r\n    return state;\r\n} \r\nexport default mystate;","import reducer from './reducer'\r\nimport { applyMiddleware, createStore } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nconst store=createStore(reducer,applyMiddleware(thunk))\r\nexport default store;\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from 'react-redux'\nimport store from './store'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}